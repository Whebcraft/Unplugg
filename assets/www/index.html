<!DOCTYPE html> 
<html> 
    <head> 
    <title>Unplugg</title> 
    
    <meta name="viewport" content="width=device-width, initial-scale=1"> 

    <link rel="stylesheet" href="jqm/jquery.mobile-1.0.css" />
    <script type="text/javascript" src="jqm/jquery-1.7.1.js"></script>
    <script type="text/javascript" src="jqm/jquery.mobile-1.0.js"></script>
    <script type="text/javascript" src="phonegap-1.3.0rc2.js"></script>
    <script type="text/javascript" src="unplugg.js"></script>
    <script type="text/javascript">
        function init() {
            document.addEventListener("deviceready", onDevReady, false);
        }
        
        function onDevReady() {
            console.log("We are good to go.");
            
            window.addEventListener("batterystatus", onBatteryStatus, false);
        }
        
        function onBatteryStatus(info) {
            console.log("Level: " + info.level + " isPlugged: " + info.isPlugged);
        }
        
        function toggleDiv(id) {
            $("#"+id).show().siblings().hide();
        }
        
        function toggleAirplane(enable) {
            console.log("Toggle Airplane");
            if (enable) {
                $('#unpluggBtn').hide();
                $('#unpluggBtn2').show();
                window.plugins.unplugg.toggleAirplaneMode(true);
            } else {
                $('#unpluggBtn').show();
                $('#unpluggBtn2').hide();
                window.plugins.unplugg.toggleAirplaneMode(false);
            }
        }
        
        function addSchedule() {
            console.log("Got here");
            window.plugins.unplugg.addSchedule({});
        }
    </script>
</head> 
<body onload="init()"> 

<div data-role="page" id="main">

    <div data-role="header">
        <h1>Unplugg</h1>
        <div data-role="navbar">
            <ul>
                <li><a href="#" onclick="toggleDiv('status')" class="ui-btn-active">Status</a></li>
                <li><a href="#" onclick="toggleDiv('schedule')" >Schedules</a></li>
            </ul>
        </div><!-- /navbar -->
    </div><!-- /header -->

    <div>
        <div data-role="content" id="status">
            <a href="#" id="unpluggBtn" onclick="toggleAirplane(true)" data-role="button">Unplugg Now!</a>
            <a href="#" id="unpluggBtn2" style="display: none"  data-theme="b" onclick="toggleAirplane(false)" data-role="button">Plugg In!</a>            
            <label for="currentStatus">Current Status:</label>
            <div id="currentStatus"></div>
            <label for="unplugs">Unplugg for:</label>
            <div data-role="controlgroup" id="unplugs">                
                <a href="#" onclick="addSchedule()" data-role="button">15 minutes</a>
                <a href="index.html" data-role="button">30 minutes</a>
                <a href="index.html" data-role="button">1 hour</a>
            </div>   
        </div><!-- /content -->
    
        <div data-role="content" id="schedule" style="display:none">   
            <a href="#add" data-role="button" data-icon="add">Add a new schedule</a>
        </div><!-- /content -->
    </div>

</div><!-- /page -->

<div data-role="page" id="add">

    <div data-role="header">
        <h1>New schedule</h1>
    </div><!-- /header -->

    <div>
        <div data-role="content">   
            <label for="flip-a">Wifi:</label>
                <select name="slider" id="flip-a" data-role="slider">
                    <option value="yes">On</option>
                    <option value="no">Off</option>
                </select> 
            <label for="flip-b">Bluetooth:</label>
                <select name="slider" id="flip-b" data-role="slider">
                    <option value="yes">On</option>
                    <option value="no">Off</option>
                </select> 
            <label for="flip-c">GPS:</label>
                <select name="slider" id="flip-c" data-role="slider">
                    <option value="yes">On</option>
                    <option value="no">Off</option>
                </select> 
        </div><!-- /content -->
    </div>

</div><!-- /page -->

</body>
</html>
